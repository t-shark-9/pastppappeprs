© International Baccalaureate Organization 2023

All rights reserved. No part of this product may be reproduced in any form or by any
electronic or mechanical means, including information storage and retrieval systems,
without the prior written permission from the IB. Additionally, the license tied with this
product prohibits use of any selected files or extracts from this product. Use by third
parties, including but not limited to publishers, private teachers, tutoring or study services,
preparatory schools, vendors operating curriculum mapping services or teacher resource
digital platforms and app developers, whether fee-covered or not, is prohibited and is a
criminal offense.

More information on how to request written permission in the form of a license can be
obtained from https://ibo.org/become-an-ib-school/ib-publishing/licensing/applying-for-a-
license/.

© Organisation du Baccalauréat International 2023

Tous droits réservés. Aucune partie de ce produit ne peut être reproduite sous quelque
forme ni par quelque moyen que ce soit, électronique ou mécanique, y compris des
systèmes de stockage et de récupération d’informations, sans l’autorisation écrite
préalable de l’IB. De plus, la licence associée à ce produit interdit toute utilisation de tout
fichier ou extrait sélectionné dans ce produit. L’utilisation par des tiers, y compris, sans
toutefois s’y limiter, des éditeurs, des professeurs particuliers, des services de tutorat ou
d’aide aux études, des établissements de préparation à l’enseignement supérieur, des
fournisseurs de services de planification des programmes d’études, des gestionnaires de
plateformes pédagogiques en ligne, et des développeurs d’applications, moyennant
paiement ou non, est interdite et constitue une infraction pénale.

Pour plus d’informations sur la procédure à suivre pour obtenir une autorisation écrite
sous la forme d’une licence, rendez-vous à l’adresse https://ibo.org/become-an-ib-school/
ib-publishing/licensing/applying-for-a-license/.

© Organización del Bachillerato Internacional, 2023

Todos los derechos reservados. No se podrá reproducir ninguna parte de este producto
de ninguna forma ni por ningún medio electrónico o mecánico, incluidos los sistemas de
almacenamiento y recuperación de información, sin la previa autorización por escrito del
IB. Además, la licencia vinculada a este producto prohíbe el uso de todo archivo o
fragmento seleccionado de este producto. El uso por parte de terceros —lo que incluye,
a título enunciativo, editoriales, profesores particulares, servicios de apoyo académico o
ayuda para el estudio, colegios preparatorios, desarrolladores de aplicaciones y
entidades que presten servicios de planificación curricular u ofrezcan recursos para
docentes mediante plataformas digitales—, ya sea incluido en tasas o no, está prohibido
y constituye un delito.

En este enlace encontrará más información sobre cómo solicitar una autorización por
escrito en forma de licencia: https://ibo.org/become-an-ib-school/ib-publishing/licensing/
applying-for-a-license/.
Computer science
Higher level
Paper 2

30 October 2023

Zone A morning    Zone B morning   Zone C morning


1 hour 20 minutes

Instructions to candidates
y Do not open this examination paper until instructed to do so.
y Answer all of the questions from one of the options.
y The maximum mark for this examination paper is [65 marks].

                      Option                        Questions
   Option A — Databases                              1–4
   Option B — Modelling and simulation               5–8
   Option C — Web science                            9 – 13
   Option D — Object-oriented programming           14 – 18




                                                                                              8823 – 7012
      23 pages                                            © International Baccalaureate Organization 2023
                                                      –2–                                             8823 – 7012


Option A — Databases

1.   A restaurant stores information about its customers, their orders and the meals available
     in a database.

     (a)     Outline two reasons why the restaurant would use a database to store this information
             rather than a spreadsheet.                                                                      [4]

     An extract of some data to be stored is displayed in the table.

            Customer          DateOfVisit             Item                Item              Item

           Duncan Mark        2021/08/18       Fish and Chips           Pavlova             Wine

           Duncan Mark        2021/08/18       Steak and Salad           Sorbet             None

           Akemi Watene       2021/08/18       Chicken Biriyani          Wine               None



     The DateOfVisit field is stored as year, month, day (yyyy/mm/dd).

     (b)     Outline one benefit of storing the data in the DateOfVisit field in the order of yyyy/mm/dd. [2]

     The table structure for the restaurant database is:

     CUSTOMER(CustomerID, FirstName, Surname, Phone, Email)
     ORDER(OrderID, OrderDate, OrderTime, CustomerID)
     ORDERLINE(OrderID, ItemID, Quantity, UnitPrice, LinePrice)
     ITEM(ItemID, Name, QtyInStock, UnitPrice)

     In the ORDERLINE table, OrderID and ItemID have been selected as a composite primary
     key. An alternative solution would be to use an OrderlineID primary key.

     (c)     Outline the reason for using OrderID and ItemID instead of OrderlineID as the
             primary key.                                                                                    [3]

     The UnitPrice field is included in both the ORDERLINE table and the ITEM table.

     (d)     Outline one potential issue that this may create when writing a query for
             data interrogation.                                                                             [2]

     The restaurant owner wants to introduce a loyalty scheme for customers. After 10 visits,
     they will receive a voucher for $ 20.

     (e)     Identify the steps to create a query to list the visits of a customer with the first name of
             “Akemi” and the surname of “Watene”. The query should display FirstName, Surname
             and OrderDate.                                                                                  [4]

(Option A continues on the following page)
                                                   –3–                                         8823 – 7012


(Option A continued)

2.   The restaurant owner has hired a database administrator to extend the database.

     The database administrator has decided to delete the LinePrice field from the
     ORDERLINE table.

                                               ORDERLINE

                      OrderID       ItemID       Quantity         UnitPrice   LinePrice

                      DM1007         F1234           1             16.99       16.99

                      DM1007        W2134            2               6.99      13.98



     (a)   Explain why the decision to delete the LinePrice field has been made.                      [3]

     The database administrator has created new tables to store employee data and create a
     work schedule.

     When an employee works a shift in the restaurant, their hours and pay rate are recorded
     by the shift manager as a database transaction.

     (b)   Define the term database transaction.[1]

     (c)   (i)	State one way to validate the hours_worked field.                                    [1]

           (ii)   Outline one way to verify the payrate field.                                        [2]

     The shift manager sometimes changes the employees’ work hours in the database during
     their shift. Employees can access the work hours and confirm their availability.

     (d)   Explain how data integrity can be maintained if an employee tries to access their work
           hours while the shift manager is editing them.                                             [4]

     The database administrator has set up a procedure for database recovery.

     One method of recovering a database is to use a transaction log.

     (e)   Describe one alternative method that could be used to recover a database after a
           crash has occurred.                                                                        [4]

(Option A continues on the following page)




                                                                                               Turn over
                                                  –4–                                               8823 – 7012


(Option A continued)

3.   A European pet passport allows pets to travel between countries in the European Union. All pets
     have a microchip inserted that gives them a unique alphanumeric transponder code.

     The data contained in a pet passport is shown in Figure 1. All of the data is stored in a database.

                                Figure 1: Two pages of a pet passport

               DESCRIPTION OF ANIMAL                           ISSUING OF PASSPORT



                       PICTURE OF
                       THE ANIMAL                       Name of the authorized veterinarian:
                         (optional)                     Helen Bright

                                                        Address: Lowden Bridge House,
       Name: Benji                                               Lowther Street, Eskdale

       Species: Dog                                     Postcode: CA37 8DX

       Breed: Labrador                                  Country: United Kingdom

       Sex: Male                                        Telephone number: 01632 960739

       Date of birth: 01/01/2017                        Email address: jkr@gov.example.com

                                                        Date of issue: 26/01/2019
                                                                                   T
                                                                               L VE ERINA
                                                                             IA
       Alphanumeric transponder code:
                                                                        IC




                                                                                            RI
                                                                     OFF




                                                                                              AN




       985 AAA 111 AAA 111                                                  H Bright
                                                                        N
                                                                      U




                                                                                            M




                                                                            IT                  O
                                                                                 ED
                                                                                      KIN G D




     A pet owner may have more than one pet, and each pet has their own passport.
     Pet passports are issued by registered veterinary surgeons (vets).

     (a)   Construct the entity-relationship diagram (ERD) that shows the relationship between
           pet owners, their pets, and the pet passport.                                                    [2]

     The data stored in the VET table can be represented in the following notation:

     VET(VetID, FirstName, Surname, Address, Postcode, City, Country, Phone, Email)

     The Phone field will be used as a secondary key.

     (b)   Define the term secondary key.                                                                   [1]

(Option A continues on the following page)
                                                   –5–                                        8823 – 7012


(Option A, question 3 continued)

     Each year, pets require vaccinations to prevent them from contracting rabies. Information about
     each vaccination can be seen in the pet passport (see Figure 2).

                      Figure 2: Vaccination information page in a pet passport

                                   VACCINATION AGAINST RABIES

                MANUFACTURER           Place vaccine sticker or handwrite:
                AND NAME OF            Merck Animal Health, Nobivac, 2021
                VACCINE

                BATCH NUMBER

                1. VACCINATION DATE
                2. VALID FROM          1. 05/01/2019      2. 26/01/2019      3. 05/01/2021
                3. VALID UNTIL


                 AUTHORIZED                       Name, address, telephone number,
                 VETERINARIAN                        signature and SP number




     The information in Figure 1 and Figure 2 needs to be normalized before being entered into
     the database.

     The VET table is given and will need to be incorporated into the final structure.

     (c)   Construct the database in 3rd Normal Form (3NF) for all of the entities shown in
           Figure 1 and Figure 2.

           You should use the same notation as that used in the representation of the VET table.      [8]

     Access to this database must comply with data protection legislation.

     (d)   Describe the principles of data protection legislation that would apply to a pet
           owner’s data.                                                                              [4]

(Option A continues on the following page)




                                                                                              Turn over
                                                  –6–                                          8823 – 7012


(Option A continued)

4.   An emergency management information system (EMIS) uses a spatial database to map all
     emergency calls via their coordinates. Every emergency call generates data that includes
     spatial data.

     (a)   (i)	Outline what is meant by the term spatial data.[2]

           (ii)   State two types of geometric object that can be represented by a spatial database. [2]

     Spatial data on a map are always linked to a row in a table.

     (b)   State one type of relationship that can be used to represent these links.                  [1]

     The map in Figure 3 shows the locations of crimes reported in Los Angeles, USA, in 2019.
     The larger the dot, the more crimes that have been reported in that area.

      Figure 3: Map showing the locations of crimes reported in Los Angeles, USA, in 2019




     Data mining techniques can be applied to the spatial data on the map to provide additional
     data analysis.

     (c)   Explain how two data mining techniques could be applied to provide a different view of
           the data displayed on this map.                                                            [6]

     Visual data analysis tools can be used to make the data on maps appear differently.
     For example, two different political parties may want the map data to show their
     different perspectives.

     (d)   Discuss the ethics of using visual data analysis tools.                                    [5]

     (e)   Describe how deviation detection can be used to predict potential incidents,
           such as fires.                                                                             [4]




                                        End of Option A
                                                  –7–                                           8823 – 7012


Option B — Modelling and simulation

5.   Cattery5S is a cat adoption centre where potential cat owners are shown a series of cats
     one by one.

     The rules for choosing a cat are as follows:
     y The potential cat owner has five minutes to look at and interact with the cat.
     y The potential cat owner must either choose that cat or move to the next cat.
     y Once the potential owner has chosen a cat, they must adopt it and must not look at
       any more cats.
     y The potential cat owner can choose one cat only.

     If there are only two cats at the adoption centre, the potential cat owner must either choose
     the first cat or choose the second cat.

     (a)   State the probability of choosing the best cat from the two choices.                         [1]

     On one occasion, there are three cats at the adoption centre. The owner of Cattery5S realizes
     that the number of possible permutations of cat ratings increases significantly as the number
     of cats increases.

     Figure 4 shows the first three rows of a spreadsheet with the permutations of three cats
     based on a rating system. The permutations shown are the first three of the six that are
     possible. No two cats can have the same rating.
     y The cat rated 3 is the best choice.
     y The cat rated 1 is the worst choice.

     In row 1, the highest-rated cat is last in the series (column C). In row 2, the highest-rated cat
     is second (column B). This should continue until all possible permutations have been included.

                      Figure 4: The first three rows of a spreadsheet with the
                       permutations of three cats based on a rating system

                                             A      B      C      D
                                     1       1      2      3
                                     2       1      3      2
                                     3       2      1      3
                                     4

     (b)   Copy and complete the spreadsheet model in Figure 4, showing the remaining
           permutations for the three cats rated 1 to 3.                                                [1]

(Option B continues on the following page)




                                                                                                Turn over
                                                      –8–                                              8823 – 7012


(Option B, question 5 continued)

     When using the spreadsheet model in Figure 4, the following rules apply:
     y Never choose the first cat (column A).
     y Choose the second cat (column B) if it is rated higher than the first cat.
     y Choose the third cat (column C) if the second cat is rated lower than the first cat.

     Column D will show the rating of the chosen cat.

     For example, the value in cell D3 will be 3 because the rating in cell B3 (1) is lower than the
     rating in cell A3 (2) and the rating in cell C3 is greater than the rating in cell B3 (1).

     (c)   Construct a formula in cell D1 to show the rating of the chosen cat.                               [2]

     Cell D1 is copied and pasted into the rest of the rows in column D.

     A formula is used to count the number of times each of the three rated cats appear in
     column D. The formula will need to be used three times because there are three cats.

     (d)   (i)	Construct a formula to count the number of times each cat is chosen.                         [2]

           (ii)   Calculate the probability of choosing each of the three cats using this strategy.           [3]

     The spreadsheet is updated to show the first three rows of permutations for four cats (Figure 5).

                           Figure 5: Updated spreadsheet showing the first
                               three rows of permutations for four cats

                                          A       B         C    D      E
                                   1      1       2         3    4
                                   2      1       2         4    3
                                   3      1       3         2    4
                                   4

     When using the spreadsheet model in Figure 5.The following rules apply:
     y Never choose the first cat (column A).
     y Choose the second cat (column B) if it is rated higher than the first cat.
     y If not, compare the first cat with the third cat (column C) and choose the third cat if it is
       rated higher than the first cat.
     y If not, choose the fourth cat (column D).

     For example, if the order of ratings for cats A, B, C and D was 2, 1, 3, 4, you would choose
     the third cat (C) because 1 < 2 and 3 > 1.

     (e)   Construct a formula in cell E1 to show the rating of the chosen cat.                               [1]

     (f)   Discuss the decision to use a spreadsheet mathematical model for choosing the best cat. [6]

(Option B continues on the following page)
                                                   –9–                                                8823 – 7012


(Option B continued)

6.   You are going to visit Cattery5S, where you will have the opportunity to see eight cats.

     You realize that the number of permutations for eight cats is 8! (8 × 7 × 6 × 5 × 4 × 3 × 2 × 1)
     or 40 320.

     You need to create a function, FACTORIAL, that accepts the number of cats, N, and returns
     the factorial of that number.

     (a)   Construct an algorithm for the function FACTORIAL(N).[2]

     The following rules apply when there is an unknown number of cats at Cattery5S:
     y Never choose the first three cats.
     y Choose the fourth cat if it is rated higher than the best of the first three cats.
     y If not, compare the fifth cat with the highest-rated cat from the first three cats.
     y Choose the fifth cat if it is rated higher than the best of the first three cats.
     y If not, compare the next cat with the highest-rated cat from the first three cats.
     y Continue until you have chosen a cat or you have reached the last cat.
     y If you reach the last cat, you must choose it.

     You need to create a function, FINDHIGH, that accepts an array, ARR, that contains the
     ratings of eight cats and returns the highest value from the first three.

     For example, if ARR contained 1, 3, 2, 5, 4, 7, 8, 6, the value 3 would be returned.

     (b)   Construct an algorithm for the function FINDHIGH(ARR).[2]

     A NEXTPERMUTATION(ARR) function has been constructed that passes the last permutation
     and returns the next permutation.

     For example, if the first permutation order of ARR is 1, 2, 3, 4, 5, 6, 7, 8, the
     NEXTPERMUTATION(ARR) function would return an array ordered 1, 2, 3, 4, 5, 6, 8, 7.
     Each call of the NEXTPERMUTATION(ARR) function would give the next permutation.
     So, the second call of the function would return 1, 2, 3, 4, 5, 7, 6, 8.

     (c)   Construct an algorithm that uses the functions FACTORIAL(N), FINDHIGH(ARR) and
           NEXTPERMUTATION(ARR)to output the probability of choosing the best cat.                           [6]

     You are unsure if your strategy will give you the highest probability of finding the best cat.

     (d)   Outline one change you could make to the algorithm to test if it will produce the highest
           best-match probability.                                                                           [2]

     When you arrive at Cattery5S, you are informed that there are 20 cats to choose from. This is
     approximately 2.4 × 1018 permutations.

     (e)   Describe the hardware requirements needed by the algorithm when there are 20 cats.                [4]

(Option B continues on the following page)




                                                                                                  Turn over
                                                 – 10 –                                         8823 – 7012


(Option B continued)

7.   The police service, ambulance service, and fire service all use a central emergency
     management information system (EMIS). The EMIS can be used to create a 2D
     visualization of reported emergencies superimposed onto a map (see Figure 6).

                        Figure 6: 2D visualization of reported emergencies in
                            Los Angeles, USA, superimposed on a map




     (a)   Define the term 2D visualization.[1]

     (b)   (i)	Outline two reasons why a 2D visualization is an appropriate visualization
                 method in this scenario.                                                              [4]

           (ii)   Outline the memory requirements for 2D visualization.                                [2]

     The emergency services have been notified of a fire in an office block. Several people are
     trapped inside and emergency service personnel will enter the building.

     A 3D visualization of the building will be rendered from the building’s floorplan. This 3D
     visualization will be electronically transferred to the smartphone/tablet with the emergency
     rescue team.

     (c)   Outline three considerations that need to be made before creating a 3D visualization of
           the building.                                                                               [6]

(Option B continues on the following page)
                                                   – 11 –                                       8823 – 7012


(Option B continued)

8.   Keyboards with a QWERTY layout are not optimized for typing speed when typing in English.
     A genetic algorithm is a search heuristic that can be used to search for a near-optimal
     keyboard layout.

     A group of random keyboard layouts is used for the initial population.

     (a)   (i)	Outline one effect of increasing the size of the initial population.                  [2]

           (ii)   Explain why you might not start with a random population of keyboard layouts.        [3]

     A fitness function value is generated for each keyboard layout.

     (b)   Explain the role of the fitness function value in genetic algorithm inheritance.            [3]

     Single-point crossover is rejected as the crossover method.

     (c)   Outline one reason why single-point crossover is not suitable for this scenario.            [2]

     Natural language processing (NLP) research has led to speech recognition being used by
     numerous applications.

     (d)   Identify four factors that have led to advancements in speech recognition.                  [4]

     One of the biggest challenges in NLP is the context-dependent nature of human language.

     (e)   Explain how language context presents a challenge for NLP machine-learning algorithms. [4]

     Machine translation is a means of communicating between different languages, such as
     English to French or Bengali to Polish.

     (f)   Outline one reason why machine translation is less effective when translating from
           Bengali to Polish than when translating from English to French.                             [2]




                                        End of Option B




                                                                                                Turn over
                                                    – 12 –                                     8823 – 7012


Option C — Web science

9.   Friends for Dogs is a company that finds homes for stray dogs. Potential owners can search
     the website for a dog to adopt. Figure 7 shows a webpage from the website.

                       Figure 7: Webpage from the Friends for Dogs website




                                               FRIENDS
                                              FOR DOGS
                                          http://www.friendsfordogs.org




                          We have dogs that need a loving and caring home.
                      We have dogs of different breeds. We hope that you will find
                                           one that you like.

                      Please type the name of the dog you like and click on submit.

                                                                            Type in this box


                                                                                SUBMIT

             Fluffy         Floppy          Snowy               Brownie

     Each page on the Friends for Dogs website has a number of components.

     (a)   Identify two components that may be found on a webpage.                                     [2]

     The Friends for Dogs website uses the hypertext transfer protocol (HTTP).

     (b)   Identify two characteristics of the hypertext transfer protocol (HTTP).                     [2]

     The following is an excerpt of the code that enables a dog to be chosen for adoption.

     <p>Please type the name of the dog you like and click on submit</p>
     <input type = "text" name = "dogname">

(Option C continues on the following page)
                                                  – 13 –                                     8823 – 7012


(Option C, question 9 continued)

     Part of the file dogadoption.php is shown:

     <?php
     $dogname = $_POST["dogname"];
     $conn = $mysqli_connect(localhost, $username, $pass,"dogDB");
     $sql = "SELECT dname,image, price FROM Dogs WHERE dname=$dogname";
     $result = mysqli_query($conn,$sql);
     if (mysqli_num_rows($result) > 0){
         while($row= mysqli_fetch_assoc($result)){
             echo "Our ".$row["image"]." ".$row["dogname"]. " is for ".
             $row["price"].<br>;
         }
     }
     else{
         echo "not found";
     }
     mysqli_close($conn);
     ?>

     The PHP code is executed on the server.

     (c)   Describe the processing that takes place when this code is executed.                     [4]

     (d)   Outline one reason why the given code is processed using server-side scripting instead
           of client-side scripting.                                                                [2]

     Potential dog owners can download and share images of the dogs they may want to adopt.

     (e)   Explain why lossy compression has been used to save the image files.                     [3]

     The structure of the Friends for Dogs website is based on a template.

     (f)   Evaluate the use of a template for developing the Friends for Dogs website.              [5]

(Option C continues on the following page)




                                                                                            Turn over
                                                  – 14 –                                       8823 – 7012


(Option C continued)

10.   A travel and tours company has created a website. The website is simple and not interactive.

      (a)   Identify two ways of making this website interactive.                                     [2]

      (b)   Outline one way in which the website developers can avoid breaching copyright laws.       [2]

      (c)   Outline one metric that can be used to rank different websites.                           [1]

      (d)   Identify two white hat search engine optimization techniques to improve the ranking of
            the website.                                                                              [2]

      (e)   Explain why white hat search engine optimization techniques would be used to improve
            the ranking of the company’s website.                                                     [4]

      (f)   Explain one way in which the effectiveness of a search engine would change due to
            the assumptions made during its development.                                              [3]


11.   A teacher training company uses a client–server network architecture.

      (a)   Outline the relationship between the client and the server in a client–server
            network architecture.                                                                     [2]

      Authentication of an employee is required for them to access the company network.

      (b)   Distinguish between identification and authentication.                                    [2]

      The company is considering changing from a client–server network architecture to one based
      on cloud storage.

      (c)   Explain one reason why an organization would change from a client–server network
            architecture to one based on cloud storage.                                               [3]

      (d)   To what extent has cloud-based storage acted as a catalyst for a greater
            decentralization of the web?                                                              [6]

(Option C continues on the following page)
                                                  – 15 –                                          8823 – 7012


(Option C continued)

12.   Figure 8 shows an example of a sub-graph.

                                         Figure 8: A sub-graph




      (a)   Describe the relationship between a web graph and a sub-graph.                               [2]

      (b)   Identify two characteristics of the strongly connected core (SCC).                           [2]

      (c)   Distinguish between a tube and a tendril.                                                    [2]

      In April 2014, a hyperlink graph extracted from the web was released by the Common Crawl
      Foundation. It calculated the web contained:
      y 1727 million nodes
      y 64 422 million edges.

      It was also noted that over 91 % of all crawled pages were connected and that the largest
      SCC consisted of 19 % of all nodes in the graph. The percentage of strongly connected
      nodes in the 2014 hyperlink graph was equal to that of the 2012 hyperlink graph, but the
      size of the largest SCC in the 2014 graph was much smaller.

      (d)   Outline how the reduction in size of the SCC can be linked to the effects of power laws.     [2]

      In the 2014 hyperlink graph the three websites with the greatest number of incoming (IN)
      links were:

                                    Webpage              Number of IN links

                                  wordpress.org              1 822 440

                                   youtube.com               1 319 548

                                  wikipedia.org              1 243 291

      (e)   Outline one reason why these websites had the greatest number of incoming (IN) links.        [2]

(Option C continues on page 17)



                                                                                                 Turn over
  – 16 –     8823 – 7012




Blank page
                                                  – 17 –                                         8823 – 7012


(Option C continued)

13.   Ambient intelligence can be used in a smart home to assist patients who suffer from
      conditions like dementia.

      (a)   Explain how ambient intelligence is used to assist with the management of such a
            patient within a smart home.                                                                [4]

      Developments in ambient intelligence and other digital technologies have led to significant
      increases in the quantity of health-related data that is available on the web.

      (b)   To what extent has the publication of an increasing quantity of health-related data on
            the web led to changes in the behaviour of patients as web users?                           [6]




                                        End of Option C




                                                                                                Turn over
                                                   – 18 –                                         8823 – 7012


Option D — Object-oriented programming

14.   A company that manufactures a children’s card game, Monster Battle, wants to create a
      software version. Figure 9 shows three sample cards from the game.

                            Figure 9: Three sample cards from Monster Battle




                   NAME: SPLASHY                   NAME: SQUISHY                  NAME: FLAMEY

         TYPE: WATER MONSTER             TYPE: WATER MONSTER           TYPE:     FIRE MONSTER
         HEALTH POINTS:       25         HEALTH POINTS:       20       HEALTH POINTS:        40

              SPECIAL ABILITIES:              SPECIAL ABILITIES:            SPECIAL ABILITIES:
         1.      HEAL A FRIEND           1.      HEAL A FRIEND         1.      HEAL A FRIEND
         2.       PUT OUT FIRE           2.       PUT OUT FIRE         2.       HEAT WATER
         3.          SOAK                3.          CLEAN             3.          BURN



      Each monster begins the game with a number of health points, which are stated on the card,
      and leaves the game when it has no remaining health points. During a battle between two
      monsters, players take turns to roll the dice. The results determine how much each monster’s
      attack will reduce the defending monster’s health points.

      Some initial classes have been created to model this scenario.

      public class Monster {
          public static final int ICE_MONSTER_TYPE = 1;
          public static final int WATER_MONSTER_TYPE = 2;
          public static final int FIRE_MONSTER_TYPE = 3;
          public String name = "Unknown";
          public int health = 100;
          public int strength = 10;
          public int monsterType = 0;
          public Monster(String name, int health, int monsterType) {
              this.name = name;
              this.health = health;
              this.monsterType = monsterType;
          }
          public void attack(Monster defender) {
              //to be written
          }

(Option D continues on the following page)
                                                 – 19 –                                        8823 – 7012


(Option D, question 14 continued)

           private static int rollDice() {
               //returns a random integer between 1 and 12
               return new java.util.Random().nextInt(12)+1;
           }
           public static void output(String message) {
               System.out.println(message);
           }
     }
     public class WaterMonster extends Monster {
         public WaterMonster(String name, int health) {
             super(name,health, Monster.WATER_MONSTER_TYPE);
         }
     }
     public class FireMonster extends Monster {
         public FireMonster(String name, int health){
             super(name, health, Monster.FIRE_MONSTER_TYPE);
         }
     }

     (a)   Define the term static as used in the declaration ICE_MONSTER_TYPE in the
           Monster class.                                                                             [1]

     (b)   (i)	Outline one advantage of making all instance variables in the Monster
                 class private.                                                                       [2]

           Some instance variables may need to be retrieved and changed from outside the
           class even though they will be declared private.

           (ii)   State two types of method that would allow this to happen.                          [2]

     (c)   Outline why the keyword super is used in the constructor of the WaterMonster class.        [2]

     The finished game may include some open source software.

     (d)   Identify two aims of the open source movement.                                             [2]

     (e)   Construct code that creates an instance of a fire-type monster called Flamey with
           40 health points.                                                                          [2]

(Option D continues on the following page)




                                                                                               Turn over
                                                – 20 –                                         8823 – 7012


(Option D continued)

15.   The Monster class contains the method attack(Monster defender). This is used when
      a monster attacks another monster (the defender).

      This method:
      y decreases the health variable of the defending monster by the amount returned by the
         rollDice method
      y uses the output method to display a defending monster’s name, damage and health
         points if its health variable is greater than zero
      y sets the defending monster’s health variable to zero if it is less than zero
      y outputs the defending monster’s name followed by “must leave the game” if its health
         variable is zero.

      (a)   Construct the method attack(Monster defender), using any existing static
            methods in the Monster class that might be useful.                                        [4]

      (b)   Outline two differences between the FireMonster class and an instance of
            FireMonster.[4]

      The programmer has created a class named Arena to model the place in which the
      monsters will battle.

      public class Arena {
          public Monster[] monsters = new Monster[10];
          int monsterCount = 0; //the number of monsters currently
          in array
          public void addMonster(Monster M) {
              // to be written
          }
          public void removeMonster(Monster M) {
              //to be written
          }
          public void doOneOnOneBattle(Monster A, Monster B) {
              while (A.health > 0 && B.health > 0) {
                   gameLog(A.attack(B));
                   gameLog(B.attack(A));
              }
              if (A.health > B.health) {
                   output(A.name + " WINS!");
                   removeMonster(B);
              } else if (B.health > A.health) {
                   output(B.name + " WINS!");
                   removeMonster(A);
              } else {
                   output("IT IS A DRAW!");
              }
          }
          public static void output(String message) {
              System.out.println(message);
          }
      }

(Option D continues on the following page)
                                                   – 21 –                                         8823 – 7012


(Option D, question 15 continued)

      (c)   Construct a simple UML class diagram showing the relationships between FireMonster,
            Monster and Arena. You do not need to include variables and methods.               [2]

      The method addMonster(Monster M) does the following:
      y If the monster array is not full and M is not in the array, it adds M to the array and
        increases the variable monsterCount.
      y Otherwise, a message is output stating the reason why.

      (d)   Construct the method addMonster(Monster M).[5]

      (e)   Outline two disadvantages of using object-oriented programming (OOP) in the
            development of software.                                                                     [4]


16.   (a)	Define the term polymorphism.[2]

      The method removeMonster(Monster M) in the Arena class removes Monster M from
      the array without leaving any gaps. It also updates the monsterCount variable. You may
      assume that Monster M already exists in the Arena.

      (b)   Construct the method removeMonster(Monster M)[6]

      Monsters have three special abilities that may be used on other monsters:
      y The ability “Heal”, which can be used on another monster
      y An ability specific to the monster type (eg, all water-type monsters have the ability
        “Put out fire”)
      y An ability specific to the monster (eg, only instances of Squishy have the ability “Clean”).

      The methods ability1(Monster defender), ability2(Monster defender) and
      ability3(Monster defender) will be created to enable the monsters to perform their
      abilities. A class for each individual monster card, eg “Squishy”, will be created.

      (c)   (i)	Define the term inheritance.[2]

            (ii)   Explain how inheritance and polymorphism could be used to maximize code
                   reuse in these three methods.                                                         [5]

(Option D continues on the following page)




                                                                                                 Turn over
                                                     – 22 –                                       8823 – 7012


(Option D continued)

17.   A programmer is considering the way in which an arena holds object references to the
      monsters and decides to use a library collection.

      (a)   Identify two advantages of using an existing library collection rather than creating one.    [2]

      Some types of monsters cause more damage when attacking other types of monsters. The
      game will change the damage of each attack by a factor between –8 and +6 depending on
      the types of the two monsters involved in the battle.

      In Table 1, the attacking monster is indicated by the row and the defending monster by the
      column. For example, if a fire-type monster attacks an ice-type monster, the damage will be
      increased by 6.

                    Table 1: The effectiveness of different monster types in a battle

                                                          Defending monster

                                               Ice              Water              Fire

                             Ice                 0               −4                +2
               Attacking
               monster




                            Water              −8                  0               +5
                             Fire              +6                -3                  0

      This is implemented as a static array in the Monster class as follows: int[][]
      effectiveness = {{0, -4, 2},{-8, 0, 5},{6, -3, 0}};

      The following method will be written to return the corresponding value from the
      effectiveness array:

      public static int getAttackingWeight(Monster attacker, Monster defender){
          return // ... to be completed
      }

      (b)   Construct the return statement.                                                              [2]

      The method recommendAttackingMonster(Monster defender) in the Arena class
      recommends the best monster in the monster array to use in a battle based on its
      effectiveness against the defending monster.

      If there is more than one monster with the same effectiveness and health points, the first of
      them will be selected.

      (c)   Construct the method recommendAttackingMonster(Monster defender). You can
            assume that there is at least one monster in the monsters array, that the attacking
            monster is not in the monsters array, and that the method getAttackingWeight
            is available.                                                                                [6]

(Option D continues on the following page)
                                                  – 23 –                                          8823 – 7012


(Option D continued)

18.   The arena will maintain a linked list of the battles that take place between monsters,
      called gameLog.

      Each time a player takes a turn and one monster attacks another, a new instance of the
      Turn class is created and added to the gameLog linked list:

      public class Turn {
          long timestamp;
          Monster from;
          Monster to;
          int damage;
      }

      The developer wants to add a rewindTurns method in the Arena class, which restores
      health points taken from a particular monster during a specified number of turns. This method
      can be called at any time and will leave the gameLog linked list unchanged (see Figure 10).

                                   Figure 10: The gameLog linked list


                  Timestamp: 01          Timestamp: 02         Timestamp: 03         Timestamp: 04
                  From: Windy            From: Flamey          From: Windy           From: Flamey
       H                                 To: Windy             To: Flamey            To: Windy
                  To: Flamey
                  Damage: 11             Damage: 4             Damage: 1             Damage: 4



      The variable rewinder is a reference to a monster named Windy, which is battling another
      monster, Flamey. The game has had four attacks so far, each of which are entered in the
      gameLog linked list. In this example, the code rewindTurns(2, rewinder) would restore
      4 health points to Windy, and the code rewindTurns(3, rewinder) would restore 8 health
      points to Windy.

      (a)   Outline two differences between the use of a linked list and a stack when using the
            rewindTurns method.                                                                          [4]

      (b)   Explain how to implement the rewindTurns(int numberOfTurns, Monster
            rewinder) method using the linked list gameLog.[6]




                                        End of Option D



Disclaimer:
Content used in IB assessments is taken from authentic, third-party sources. The views expressed within them belong to their
individual authors and/or publishers and do not necessarily reflect the views of the IB.

References:
Figure 1.     Department of Agriculture, Environment and Rural Affairs. EU Pet Travel Scheme - How to Complete Pet
              Passports. https://www.daera-ni.gov.uk/publications/eu-pet-travel-scheme-how-complete-pet-passports. Contains
              public sector information licensed under the Open Government Licence v3.0. Source adapted https://www.daera-
              ni.gov.uk/crown-copyright.
Figure 2.     Department of Agriculture, Environment and Rural Affairs. EU Pet Travel Scheme - How to Complete Pet
              Passports. https://www.daera-ni.gov.uk/publications/eu-pet-travel-scheme-how-complete-pet-passports. Contains
              public sector information licensed under the Open Government Licence v3.0. Source adapted https://www.daera-
              ni.gov.uk/crown-copyright.
Figure 3.     Wikipedia, n.d. California locations by crime rate. [online] Available at: https://en.wikipedia.org/wiki/California_
              locations_by_crime_rate [Accessed 11 January 2021] and Wikimedia Commons, 2008. Locator map of the Harbor
              Freeway in Los Angeles County, Southern California. [online] Available at: https://commons.wikimedia.org/wiki/
              File:Harbor_Freeway.svg [Accessed 11 January 2021]. Source adapted.
Figure 6.     Wikipedia, n.d. California locations by crime rate. [online] Available at: https://en.wikipedia.org/wiki/California_
              locations_by_crime_rate [Accessed 11 January 2021] and Wikimedia Commons, 2008. Locator map of the Harbor
              Freeway in Los Angeles County, Southern California. [online] Available at: https://commons.wikimedia.org/wiki/
              File:Harbor_Freeway.svg [Accessed 11 January 2021]. Source adapted.
Figure 7.     minka2507, 2019. [Fluffy]. [online] Available at: https://pixabay.com/photos/dog-animal-puppy-pet-
              mammal-4390884/ [Accessed 11 January 2021]. Source adapted.
		SNGPhotography, 2016. [Floppy]. [online] Available at: https://pixabay.com/photos/pug-puppy-storm-animal-pet-
  dog-1502566/. Source adapted.
		3914556, 2013. [Snowy]. [online] Available at: https://pixabay.com/photos/puppy-dog-pet-animal-cute-
  white-1903313/ [Accessed 11 January 2021]. Source adapted.
		Pexels, 2014. [Brownie]. [online] Available at: https://pixabay.com/photos/animal-dog-pet-puppy-pug-1284307/
  [Accessed 11 January 2021]. Source adapted.
Figure 8.     Meusel, R., Vigna, S., Lehmberg, O. and Bizer, C., 2015. The graph structure in the web – analyzed on different
              aggregation levels. The Journal of Web Science, 1, pp. 33–47. [online] Available at: https://webscience-journal.
              net/webscience/article/view/11 [Accessed 11 January 2021]. Source adapted.
All other texts, graphics and illustrations © International Baccalaureate Organization 2023
